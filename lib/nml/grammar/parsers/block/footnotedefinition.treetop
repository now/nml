module NML::Grammar::Parsers::Block
  grammar FootnoteDefinition
    include Common

    rule footnotedefinition
      abbreviation /
      link
    end

    rule link
      title:(!(' at ' [\S]+ / "\n") .)+ ' at ' uri:[\S]+
      <NML::Grammar::Nodes::Block::Footnote::Link>
    end

    rule abbreviation
      'Abbreviation' space 'for' space definition:nonnewline
      <NML::Grammar::Nodes::Block::Footnote::Abbreviation>
    end
  end
end
